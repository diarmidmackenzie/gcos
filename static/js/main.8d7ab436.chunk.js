(this.webpackJsonpgcos=this.webpackJsonpgcos||[]).push([[0],{23:function(e,t,r){},25:function(e,t,r){},26:function(e,t,r){"use strict";r.r(t);var n=r(4),o=r.n(n),s=r(16),c=r.n(s),i=(r(23),r(14)),l=r(15),u=r(29),a=r(18),d=r(30),j=r(17),b=r(0);function h(e){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("p",{children:" This page provides a self-assessment of your General Causality Orientation."}),Object(b.jsx)("p",{children:" To Begin the Survey Press the Start button "}),Object(b.jsx)("button",{type:"button",onClick:function(){return e.moveCursor(1)},children:"Start"}),Object(b.jsx)("p",{children:" Some notes about privacy..."}),Object(b.jsx)("p",{children:" (No data is collected.  No data leaves the browser.)"}),Object(b.jsx)("p",{children:" Some notes about how the survey works..."}),Object(b.jsx)("p",{children:" (choose a 'likelihood' for each possible response)"})]})}function x(e){var t=e.scores[e.cursor][0]>0&&e.scores[e.cursor][1]>0&&e.scores[e.cursor][2]>0,r=e.cursor===e.questions.length-1?"Finish":"Next";return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(O,{index:e.cursor,question:e.questions[e.cursor].question,questions:e.questions,scoreGroup:e.scores[e.cursor],setScore:e.setScore}),Object(b.jsx)("button",{type:"button",onClick:function(){return e.moveCursor(-1)},children:"Prev"}),Object(b.jsx)("button",{type:"button",onClick:function(){return e.moveCursor(1)},disabled:!t||null,children:r})]})}function O(e){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{children:[Object(b.jsxs)("p",{className:"number",children:[e.index+1+"/"+e.questions.length+" "," "]}),Object(b.jsx)("p",{className:"question",children:e.question}),Object(b.jsx)("br",{})]}),Object(b.jsx)("div",{children:e.scoreGroup.map((function(t,r){return Object(b.jsx)(p,{groupIndex:e.index,index:r,responseText:e.questions[e.index].responses[r],score:t,setScore:e.setScore,selectedValue:e.scoreGroup[r]},"Q"+e.index+"-"+Number(r))}))})]})}function p(e){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"response",children:["a) ","b) ","c) "][e.index]+e.responseText}),Object(b.jsx)("div",{className:"radio-group",children:Array.from(Array(7).keys()).map((function(t){return Object(b.jsx)(m,{groupIndex:e.groupIndex,index:e.index,value:t+1,defaultChecked:e.selectedValue===t+1,setScore:e.setScore},t+1)}))}),Object(b.jsx)("div",{className:"radio-key",children:"very unlikely"}),Object(b.jsx)("div",{className:"radio-key",children:"moderately likely"}),Object(b.jsx)("div",{className:"radio-key",children:"very likely"})]})}function m(e){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("label",{htmlFor:e.value,children:[Object(b.jsx)("input",{type:"radio",name:e.groupIndex+"-"+e.index,value:e.value,defaultChecked:e.defaultChecked?"checked":null,onClick:function(){return e.setScore(e.groupIndex,e.index,e.value)}}),e.value]})})}function v(e){function t(e,t){return e.map((function(e,r){return t[r][e-1]})).reduce((function(e,t){return e+t}))}function r(e,t){var r=12*t/17;console.log("Scaled value: ".concat(r));var n=r-e.mean;console.log("Diff: ".concat(n));var o=n/e.sd;return console.log("SDs: ".concat(o)),o>4&&(o=4),o<-4&&(o=-4),o}function n(e,t){var n=100+15*r(e,t);return console.log("Normalized: ".concat(n)),n}function o(e,t){var n=r(e,t);console.log("SDs: ".concat(n));var o=function(e){if(e<-6.5)return 0;if(e>6.5)return 1;var t=1,r=0,n=1,o=0,s=Math.exp(-23);for(;Math.abs(n)>s;)r+=n=.3989422804*Math.pow(-1,o)*Math.pow(e,o)/(2*o+1)/Math.pow(2,o)*Math.pow(e,o+1)/t,t*=++o;return r+=.5}(n);return console.log("Percentile: ".concat(o)),o}function s(e){return(e*=100)<=.1?e.toPrecision(1):e<=99?e.toPrecision(2):e<=99.9?e.toPrecision(3):e<=99.99?e.toPrecision(4):e<=99.999?e.toPrecision(5):e.toPrecision(1)}function c(e){return(e*=100)<=1?"exceptionally low":e<=10?"very low":e<=30?"low":e<=70?"normal":e<=90?"high":e<=99?"very high":"exceptionally high"}function i(e,t,r){var n={};function o(e){return Math.floor(255*(e-40)/120).toString(16).padStart(2,"0")}var s=o(t),c=o(e),i=o(r);return n.backgroundColor="#"+s+c+i,Number("0x"+s)+Number("0x"+c)+Number("0x"+i)>400?n.color="black":n.color="white",n}var l=t(e.coding.A,e.scores),u=t(e.coding.C,e.scores),a=t(e.coding.I,e.scores),d=o(e.distribution.all.A,l),j=o(e.distribution.all.C,u),h=o(e.distribution.all.I,a),x=n(e.distribution.all.A,l),O=n(e.distribution.all.C,u),p=n(e.distribution.all.I,a);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:"These are your normalized results on each orientation."}),Object(b.jsx)("div",{className:"color-block",style:i(x,O,p),children:Object(b.jsxs)("div",{className:"norm-scores",children:[Object(b.jsxs)("p",{children:["Autonomy: ",x.toFixed(0)," (",c(d),")"]}),Object(b.jsxs)("p",{children:["Controlled: ",O.toFixed(0)," (",c(j),")"]}),Object(b.jsxs)("p",{children:["Impersonal: ",p.toFixed(0)," (",c(h),")"]})]})}),Object(b.jsx)("p",{children:"(mean = 100, 1 S.D. = 15 points)"}),Object(b.jsx)("p",{children:"These are your results as percentiles."}),Object(b.jsx)("div",{className:"color-block",style:i(x,O,p),children:Object(b.jsxs)("div",{className:"percentile-scores",children:[Object(b.jsxs)("p",{children:["Autonomy: ",s(d),"th (",c(d),")"]}),Object(b.jsxs)("p",{children:["Controlled: ",s(j),"th (",c(j),")"]}),Object(b.jsxs)("p",{children:["Impersonal: ",s(h),"th (",c(h),")"]})]})}),Object(b.jsx)("p",{children:"The background color used above represents your overall control orientation."}),Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{className:"green",children:" Autonomy "}),Object(b.jsx)("span",{className:"red",children:" Controlled "}),Object(b.jsx)("span",{className:"blue",children:" Impersonal "})]})]}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{type:"button",onClick:function(){return e.moveCursor(-1)},children:"Back"}),Object(b.jsx)("button",{type:"button",onClick:function(){return e.resetSurvey()},children:"Restart"})]})}r(25);var f=new u.a;function g(){var e=Array.from(Array(17),(function(){return[0,0,0]})),t=Object(n.useState)(e),r=Object(l.a)(t,2),o=r[0],s=r[1],c=Object(n.useState)(-1),u=Object(l.a)(c,2),a=u[0],j=u[1],O=Object(d.a)("questions",(function(){return fetch("https://raw.githubusercontent.com/diarmidmackenzie/gcos/main/data/questions.json").then((function(e){return e.json()}))})),p=O.isLoading,m=O.error,f=O.data;if(p)return"Loading...";if(m)return"An error has occurred: "+m.message;function g(t){var r=a+t;r>=-1&&r<=e.length&&j(r)}return a<0?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{id:"questions",children:Object(b.jsx)(h,{cursor:a,moveCursor:g})})}):a<e.length?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{id:"questions",children:Object(b.jsx)(x,{questions:f.questions,cursor:a,scores:o,setScore:function(e,t,r){var n=Object(i.a)(o),c=Object(i.a)(n[e]);c[t]=r,n[e]=c,s(n)},moveCursor:g})})}):Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{id:"results",children:Object(b.jsx)(v,{coding:f.coding,distribution:f.distribution,scores:o,moveCursor:g,resetSurvey:function(){if(window.confirm("If you continue, you will lose all your answer data.")){var e=Array.from(Array(17),(function(){return[0,0,0]}));s(e),j(-1)}}})})})}var y=function(){return Object(b.jsxs)(a.a,{client:f,children:[Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(g,{})}),Object(b.jsx)(j.ReactQueryDevtools,{initialIsOpen:!1})]})},k=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,31)).then((function(t){var r=t.getCLS,n=t.getFID,o=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),n(e),o(e),s(e),c(e)}))};c.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(y,{})}),document.getElementById("root")),k()}},[[26,1,2]]]);
//# sourceMappingURL=main.8d7ab436.chunk.js.map